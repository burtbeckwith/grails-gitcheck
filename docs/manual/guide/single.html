<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
                      "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
    <head>
        <title>Gitcheck Plugin 0.2</title>
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
        <link rel="stylesheet" href="../css/main.css" type="text/css" media="screen, print" title="Style" charset="utf-8" />
        <link rel="stylesheet" href="../css/pdf.css" type="text/css" media="print" title="PDF" charset="utf-8" />
    <script type="text/javascript">
function addJsClass(el) {
    var classes = document.body.className.split(" ");
    classes.push("js");
    document.body.className = classes.join(" ");
}
    </script>
    </head>

    <body class="body" onload="addJsClass();">
        <div id="navigation">
            <ul>
                <li>
                    <div id="nav-summary" onmouseover="toggleNavSummary(false)" onmouseout="toggleNavSummary(true)">
                        <a href="../guide/index.html" class="button">Table of contents</a>
                        <div id="nav-summary-childs" style="display:none;">
                            
                            <div class="toc-item" style="margin-left:0"><a href="#introduction"><strong>1</strong><span>Introduction</span></a></div>
                            
                        </div>
                    </div>
                </li>
                <li class="separator selected">
                    <a id="ref-button" onclick="localToggle(); return false;" href="#">Quick Reference</a>
                </li>
            </ul>
        </div>
        <div id="header">
            <div class="images clearfix">
                
                
            </div>
            <p>Provides the ability to check Git respoitory status, e.g. uncommited files, missing updates, etc. while creating a war file.
</p>
        </div>


        <table id="colset" border="0" cellpadding="0" cellspacing="0">
            <tr>
                <td id="col1">
                    <div id="main" class="corner-all">

                        <span id='toggle-col1' class="toggle">(<a href="#" onclick="localToggle(); return false;">Quick Reference</a>)</span>

                        <div class="project">
                            <h1>Gitcheck Plugin - Reference Documentation</h1>
                            <p><strong>Authors:</strong> Robert Oschwald</p>
                            <p><strong>Version:</strong> 0.2</p>
                            
                        </div>

                        
                        <div id="table-of-content">
                            <h2>Table of Contents</h2>
                            
                            <div class="toc-item" style="margin-left:0px"><a href="#introduction"><strong>1</strong><span>Introduction</span></a></div>
                            
                            <div style="clear:both" ></div>
                        </div>
                        
                        

<h1 id="introduction">1 Introduction</h1>
This plugin provides the ability to check git status of a local repository on
war file generation.<p class="paragraph"/>It can be used to ensure your changes are committed and pushed as well as your
project is current while generating a war file.<p class="paragraph"/>The following tests are performed:
<ul class="star">
<li>Check for valid branch name</li>
<li>Check for uncommitted changes</li>
<li>Check for unpushed change sets</li>
<li>Check for unpulled origin change sets</li>
</ul><p class="paragraph"/><h4>Configuration</h4>
You can control the plugin behavior by the following configuration options (usually set in Config.groovy):
<ul class="star">
<li>scm.validBranch - The valid branch name(s) for this build</li>
<li>scm.skipGitBranchCheck - If true, do not perform the Git branch check &#91;false&#93;</li>
<li>scm.skipGitCommitCheck - If true, do not perform uncommitted changes check. &#91;false&#93;</li>
<li>scm.skipGitPushedCheck - If true, do not perform unpushed change sets check. &#91;false&#93;</li>
<li>scm.skipGitOriginCheck - If true, perform origin unpulled change sets check. &#91;false&#93;</li>
</ul><p class="paragraph"/>You can set the gitcheck properties as usual on a per-Environment base.
Example:<p class="paragraph"/><div class="code"><pre>scm.validBranch = 'master' // <span class="java&#45;keyword">default</span> branch<p class="paragraph"/>development &#123;
    scm.skipGitCommitCheck = <span class="java&#45;keyword">true</span>
    scm.skipGitPushedCheck = <span class="java&#45;keyword">true</span>
    scm.skipGitOriginCheck = <span class="java&#45;keyword">true</span>
&#125;<p class="paragraph"/>ci &#123;
    scm.validBranch = 'ci'
&#125;<p class="paragraph"/>testserver1 &#123;
    scm.validBranch = 'deploy/testserver1'
    scm.skipGitPushedCheck = <span class="java&#45;keyword">true</span> // just an example
&#125;<p class="paragraph"/>
production &#123;
    scm.validBranch = 'deploy/production'
&#125;</pre></div><p class="paragraph"/><h4>Current Revision</h4>
You can import the GitClient into your BuildConfig.groovy to get access to the current Git revision.
This can be used to add the Git revision e.g. to the war file name:<p class="paragraph"/><div class="code"><pre><span class="java&#45;keyword">import</span> grails.plugin.gitcheck.GitClient<p class="paragraph"/>def currentDate = &#123;
  <span class="java&#45;keyword">new</span> Date().format(<span class="java&#45;quote">"yyyy_MM_dd"</span>)
&#125;<p class="paragraph"/>def gitRev = GitClient.currentRevision()<p class="paragraph"/>grails.project.war.file = <span class="java&#45;quote">"target/$&#123;appName&#125;&#45;$&#123;Environment.current.name&#125;&#45;$&#123;currentDate()&#125;&#45;$&#123;gitRev&#125;.war"</span></pre></div><p class="paragraph"/><h4>Release History and Acknowledgment</h4>
<ul class="star">
<li>July, 3rd, 2013</li>
<li>Cleanup BuildConfig</li>
<li>July 2nd, 2013</li>
<ul class="star">
<li>0.1 initial release.</li>
<li><a href="http://jira.grails.org/browse/GRAILSPLUGINS" target="blank">JIRA Issues</a></li>
</ul></ul><p class="paragraph"/>

                    </div>
                </td>
                <td id="col2">
            <div class="local clearfix">
                <div class="local-title">
                    <a href="../guide/index.html" target="mainFrame">Quick Reference</a>
                    <span class="toggle">(<a href="#" onclick="localToggle(); return false;">hide</a>)</span>
                </div>
                <div class="menu">
                    
                    <div class="menu-block"><h1 class="menu-title" onclick="toggleRef(this.parentNode.childNodes[1])">Items</h1><div class="menu-sub">
                        
                        
                        <div class="menu-item"><a href="../ref/Items/reference.html">reference</a>
                        </div>
                        
                        </div>
                    </div>
                    
                </div>
            </div>
        </td>
            </tr>
        </table>

        <div id="footer">
            
            
        </div>



<script type="text/javascript" src="../js/docs.js"></script>

    </body>
</html>
